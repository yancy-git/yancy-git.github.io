"use strict";var GitHubInfo={requestAPI:function(u,r,a){var c=5;!function o(){new Promise(function(n,t){var e=0,i=setTimeout(function(){0===e&&(e=2,i=null,t("请求超时"),0==c)&&a()},5e3);fetch(u).then(function(t){if(2!==e&&(clearTimeout(i),n(t),i=null,e=1),t.ok)return t.json();throw new Error("Network response was not ok.")}).then(function(t){c=0,r(t)}).catch(function(t){0<c?(--c,setTimeout(function(){o()},5e3)):a()})})}()},layout:function(t){var o=$(t.el)[0];function u(t){for(var n=0,e=Object.keys(t);n<e.length;n++){var i=e[n];$(o).find("[type=text]#"+i).text(t[i]),$(o).find("[type=link]#"+i).attr("href",t[i]),$(o).find("[type=img]#"+i).attr("src",t[i])}}GitHubInfo.requestAPI(t.api,function(t){var n,e,i=o.getAttribute("index");null!=i?(n=t.content||t)&&n.length>i&&((e=n[i])["latest-tag-name"]=e.name,u(n[i])):u(t)},function(){})}};$(function(){for(var t=document.getElementsByClassName("stellar-ghinfo-api"),n=0;n<t.length;n++){var e,i=t[n],o=i.getAttribute("api");null!=o&&((e=new Object).el=i,e.api=o,e.class=i.getAttribute("class"),GitHubInfo.layout(e))}});